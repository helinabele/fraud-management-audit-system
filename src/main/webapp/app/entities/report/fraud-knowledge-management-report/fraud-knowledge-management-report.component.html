<!-- Search form -->
<h2 id="page-heading" data-cy="FraudKnowledgeManagementHeading">
  <span>Fraud Knowledge Managements Report</span>

  <div class="d-flex justify-content-end">
    <button class="btn btn-info me-2" (click)="load()" [disabled]="isLoading">
      <!-- <fa-icon [icon]="['fas', 'sync']" [spin]="isLoading"></fa-icon> -->
      <span jhiTranslate="fraudMgt.fraudKnowledgeManagement.home.refreshListLabel">Refresh list</span>
    </button>
  </div>
</h2>

<!-- <form [formGroup]="searchForm">
  <label for="search">Search:</label>
  <input type="text" id="search" formControlName="search">
  <label for="property">Property:</label>
  <select id="property" formControlName="property">
    <option value="">Select a property</option>
    <option value="reportNumber">Report Number</option>
    <option value="fraudIncident">Fraud Incident</option>
    <option value="actualIncident">Actual Incident</option>
    <option value="attemptIncident">Attempt Incident</option>
    <option value="reasonForFailure">Reason for Failure</option>
  </select>
  <button type="submit">Search</button>
</form> -->

<div class="filter-container">
  <input type="text" class="filter-input" [(ngModel)]="reportNumberFilter" Filter placeholder="Filter by reportNumber">
  <input type="text" class="filter-input" [(ngModel)]="fraudInvestigationReportFilter" Filter
    placeholder="Filter by fraudInvestigationReport?.title">
  <input type="text" class="filter-input" [(ngModel)]="fraudIncidentFilter" Filter
    placeholder="Filter by fraudIncident">
  <input type="text" class="filter-input" [(ngModel)]="actualIncidentFilter" Filter
    placeholder="Filter by actualIncident">
  <input type="text" class="filter-input" [(ngModel)]="attemptIncidentFilter" Filter
    placeholder="Filter by attemptIncident">
  <input type="text" class="filter-input" [(ngModel)]="unitFilter" Filter placeholder="Filter by unit">
  <label for="incidentDateFilter">Incident Date:</label>
  <input class="filter-input" type="date" id="incidentDateFilter" [(ngModel)]="incidentDateFilter"
    placeholder="Filter by incidentDate">
  <input class="filter-input" [(ngModel)]="dateOfDetectionFilter" Filter placeholder="Filter by dateOfDetection">
  <input class="filter-input" [(ngModel)]="employeeFilter" Filter placeholder="Filter by employee">
  <input class="filter-input" [(ngModel)]="fraudTypeFilter" Filter placeholder="Filter by fraudType">
  <button class="filter-button" (click)="filteredResults()">Search</button>
  <button class="filter-button" (click)="clearResults()">Clear</button>
</div>
<!-- <div class="table-responsive table-entities" id="entities" *ngIf="fraudKnowledgeManagements && fraudKnowledgeManagements.length > 0">
  <table class="table table-striped" aria-describedby="page-heading"> -->
<table class="fraud-report-table" style="display: flex;">
  <thead>
    <tr>
      <th>No</th>
      <th>Report Number</th>
      <th>Case Title</th>
      <th>Fraud Type</th>
      <th>Fraud Incident</th>
      <th>Actual Incident</th>
      <th>Attempted Incident</th>
      <th>Reason for failure Attempted fraud</th>
      <th>District/Department/Branch</th>
      <th>Incident Date</th>
      <th>Date of Detection</th>
      <th>Reason For Delay</th>
      <th>Suspected Fraudster</th>
      <th>Amount Reported</th>
      <th>Actual Fraud Amount</th>
      <th>Debit Acc and Name</th>
      <th>Credit Acc and Name</th>
      <th>Technique and Technology used to commit</th>
      <th>Cause For an incident</th>
      <th>Effect</th>
      <th>Type of Payment</th>
      <th>Recommendations Drawn</th>
      <th>Postistion/JG</th>
      <th>Name/IDNo</th>
      <th>Actions involved</th>
      <th>Measured Taken</th>
      <th>Fraud Amount Recovered</th>
      <th>Fraud Amount Written off</th>
      <th>Provisions held for fraud outstanding</th>
    </tr>
  </thead>
  <tbody *ngIf="fraudKnowledgeManagements?.length">
    <tr *ngFor="let report of filterdNameList, let i = index">
      <td>{{i+1}}</td>
      <td>{{ report.reportNumber }}</td>
      <td>{{ report.fraudInvestigationReport?.title }}</td>
      <td>{{ report.fraudType?.fraudName }}</td>
      <td>{{ report.fraudIncident }}</td>
      <td>{{ report.actualIncident }}</td>
      <td>{{ report.attemptIncident }}</td>
      <td></td>
      <td>{{ report.unit }}</td>
      <td>{{ report.incidentDate}}</td>
      <td>{{ report.dateOfDetection}}</td>
      <td>{{report?.reasonForDelay}}</td>
      <td>{{report?.suspectedFraudster}}</td>
      <td>{{report?.amount}}</td>
      <td>{{report?.actualFraudAmount}}</td>
      <td>{{report?.debitAccount}}</td>
      <td>{{report?.creditAccount}}</td>
      <td>{{report?.techniquesandTechnologiesUsed}}</td>
      <td>{{report?.causeForAnIncident}}</td>
      <td>{{report?.Effect}}</td>
      <td>{{report?.bankService}}</td>
      <td>{{report?.recommendationsDrawn}}</td>
      <td>{{report?.positionJG}}</td>
      <td>{{report?.nameIdNo}}</td>
      <td>{{report?.actionInvolved}}</td>
      <td>{{report?.measureTaken}}</td>
      <td>{{report?.fraudAmountRecovered}}</td>
      <td>{{report?.fraudAmountWrittenOff}}</td>
      <td>{{report?.previouslyHeldForFraudOutstanding}}</td>

    </tr>
  </tbody>
</table>
<!-- Showing search results count -->
<p>Showing {{fraudKnowledgeManagements?.length}} of {{totalItems}} results</p>

<!-- Search buttons -->
<!-- <div class="search-buttons">
  <button (click)="searchByReportNumber()">Search by Report Number</button>
  <button (click)="searchByFraudIncident()">Search by Fraud Incident</button>
  <button (click)="searchByActualIncident()">Search by Actual Incident</button>
  <button (click)="searchByAttemptIncident()">Search by Attempt Incident</button>
  <button (click)="searchByReasonForFailure()">Search by Reason for Failure</button>
</div> -->